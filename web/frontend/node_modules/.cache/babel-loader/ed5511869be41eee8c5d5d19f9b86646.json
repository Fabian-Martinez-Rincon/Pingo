{"ast":null,"code":"var _jsxFileName = \"D:\\\\Documentos\\\\Programaci\\xF3n\\\\Lenguajes\\\\Python\\\\pingo\\\\web\\\\frontend\\\\src\\\\App.js\";\nimport React from \"react\";\nimport './index';\nimport './style.css';\nimport axios from \"axios\";\nimport Draggable from \"react-draggable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyApp = {};\nvar film;\n\nrequire('dotenv').config();\n\nfunction App(props) {\n  MyApp.data = props.tasks;\n  const lastIndex = MyApp.data.length - 10;\n  clearResult();\n  return [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col\",\n    children: film = MyApp.data.slice(-10).reverse().map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"chain\",\n      children: [task.data + \"\\n\" + \"Hash:\" + task._id, \"  \", /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"dashed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 75\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(Draggable, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-popup\",\n      id: \"myForm\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        action: \"/action_page.php\",\n        className: \"form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"registra tu enefete de pingo de luis de pingo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          form: \"email\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Nombre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Tu nombre de pingo\",\n          name: \"email\",\n          id: \"username\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn\",\n          children: \"Adquirir tu propio pingo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn cancel\",\n          onClick: () => {\n            document.getElementById(\"myForm\").style.display = \"none\";\n          },\n          children: \"Cerrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 9\n  }, this)];\n}\n\n_c = App;\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  console.log(document.getElementById(\"username\").value);\n  postRQ(document.getElementById(\"username\").value);\n}\n\nfunction selectElement(selector) {\n  return document.querySelector(selector);\n} //Limpiar el contenido\n\n\nfunction clearResult() {\n  selectElement('.search-results').innerHTML = \"\";\n}\n\nfunction getResults() {\n  const search = selectElement('.searchbar').value;\n  clearResult();\n\n  if (search.length > 0) {\n    MyApp.data.reverse().map(task => {\n      let link = 'http://luispin.ga:5000/static/' + task._id + \".png\";\n\n      if (task.data.toLocaleLowerCase().includes(search.toLocaleLowerCase()) || task.data.toLocaleLowerCase().includes(search.toLocaleLowerCase())) {\n        selectElement('.search-results').innerHTML += `\n                <div class = \"search-results-item\">\n                    <span class= \"search-item\">${\"Nombre: \" + task.data + \"\\n\" + \" Hash: \" + task._id + \"\\n\" + \"Prev: \" + task.prev + \"\\n\"}</span>\n                    <a href=static/${task._id}.png onmouseover=\"javascript:event.target.port=5000\" target=\"_blank\">Descargar</a>\n                </div>\n                `;\n      }\n    });\n  }\n}\n\nfunction postRQ(valor) {\n  axios.post('/users/', {\n    valor\n  }).then(function (response) {\n    console.log(response.data);\n    document.getElementById(\"luis pingo\").src = \"https://127.0.0.1:5000/static/\" + response.data + \".png\";\n    document.getElementById(\"luis pingo\").style.visibility = \"visible\";\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n\nfunction logSubmit(event) {\n  event.preventDefault();\n  console.log(document.getElementById(\"username\").value);\n  postRQ(document.getElementById(\"username\").value);\n}\n\ndocument.addEventListener('submit', logSubmit);\nselectElement('.searchbar').addEventListener('keyup', getResults);\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/Documentos/Programaci√≥n/Lenguajes/Python/pingo/web/frontend/src/App.js"],"names":["React","axios","Draggable","MyApp","film","require","config","App","props","data","tasks","lastIndex","length","clearResult","slice","reverse","map","task","_id","handleSubmit","document","getElementById","style","display","event","preventDefault","console","log","value","postRQ","selectElement","selector","querySelector","innerHTML","getResults","search","link","toLocaleLowerCase","includes","prev","valor","post","then","response","src","visibility","catch","error","logSubmit","addEventListener"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport './index';\r\nimport './style.css';\r\nimport axios from \"axios\";\r\nimport Draggable from \"react-draggable\";\r\nconst MyApp = {};\r\nvar film;\r\nrequire('dotenv').config()\r\n\r\n\r\nfunction App(props) {\r\n    MyApp.data = props.tasks\r\n    const lastIndex = MyApp.data.length - 10;\r\n    clearResult()\r\n    return (\r\n    [\r\n        <div className=\"col\">\r\n\r\n            {film = MyApp.data.slice(-10).reverse().map((task) =>\r\n\r\n            <div class=\"chain\">{task.data + \"\\n\" + \"Hash:\"  + task._id }  <hr className=\"dashed\"/> </div>)\r\n            }\r\n        </div>,\r\n        <Draggable>\r\n            <div className=\"form-popup\" id=\"myForm\">\r\n\r\n            <form onSubmit={handleSubmit} action=\"/action_page.php\" className=\"form-container\">\r\n                <h1>registra tu enefete de pingo de luis de pingo</h1>\r\n\r\n                <label form=\"email\"><b>Nombre</b></label>\r\n                <input type=\"text\" placeholder=\"Tu nombre de pingo\" name=\"email\" id=\"username\" required/>\r\n\r\n\r\n                    <button type=\"submit\" className=\"btn\">Adquirir tu propio pingo</button>\r\n                    <button type=\"button\" className=\"btn cancel\" onClick={() => {\r\n                        document.getElementById(\"myForm\").style.display = \"none\";\r\n                    }}>Cerrar</button>\r\n            </form>\r\n\r\n            </div>\r\n        </Draggable>\r\n        ]\r\n    );\r\n\r\n}\r\n\r\nfunction handleSubmit(event) {\r\n    event.preventDefault();\r\n    console.log(document.getElementById(\"username\").value);\r\n    postRQ(document.getElementById(\"username\").value);\r\n}\r\n\r\n\r\nfunction selectElement(selector){\r\n    return document.querySelector(selector);\r\n}\r\n//Limpiar el contenido\r\nfunction clearResult(){\r\n    selectElement('.search-results').innerHTML=\"\";\r\n}\r\n\r\nfunction getResults(){\r\n    const search = selectElement('.searchbar').value;\r\n    clearResult();\r\n    if(search.length > 0){\r\n\r\n        MyApp.data.reverse().map((task) => {\r\n            let link = 'http://luispin.ga:5000/static/' + task._id + \".png\";\r\n        if (\r\n            task.data.toLocaleLowerCase().includes(search.toLocaleLowerCase()) ||\r\n            task.data.toLocaleLowerCase().includes(search.toLocaleLowerCase())\r\n            ){\r\n                selectElement('.search-results').innerHTML+=`\r\n                <div class = \"search-results-item\">\r\n                    <span class= \"search-item\">${\"Nombre: \" + task.data + \"\\n\" + \" Hash: \" + task._id + \"\\n\" + \"Prev: \" + task.prev + \"\\n\"}</span>\r\n                    <a href=static/${task._id}.png onmouseover=\"javascript:event.target.port=5000\" target=\"_blank\">Descargar</a>\r\n                </div>\r\n                `;\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\nfunction postRQ(valor) {\r\n    axios.post('/users/', {\r\n    valor\r\n    })\r\n        .then(function (response) {\r\n\r\n            console.log(response.data);\r\n            document.getElementById(\"luis pingo\").src=\"https://127.0.0.1:5000/static/\" + response.data +\".png\";\r\n            document.getElementById(\"luis pingo\").style.visibility = \"visible\";\r\n\r\n\r\n\r\n\r\n        })\r\n        .catch(function (error) {\r\n            console.log(error);\r\n        });\r\n\r\n}\r\n\r\nfunction logSubmit(event) {\r\n    event.preventDefault();\r\n    console.log(document.getElementById(\"username\").value);\r\n    postRQ(document.getElementById(\"username\").value);\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\ndocument.addEventListener('submit', logSubmit);\r\nselectElement('.searchbar').addEventListener('keyup', getResults);\r\n\r\n    export default App;\r\n"]},"metadata":{},"sourceType":"module"}